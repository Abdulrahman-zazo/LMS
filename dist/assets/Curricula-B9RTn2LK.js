import{u as E,n as F,r as m,j as e,S as L,H as T}from"./index-BlWPqFcd.js";const _="/assets/Earth%20Planet-C148qodb.png",B=()=>{var f,j,b,v;const{t}=E("translation"),{data:x,isLoading:y,isError:w}=F({}),c=(x==null?void 0:x.data)??[],r=c[0],o=(f=r==null?void 0:r.pivot)==null?void 0:f[0],[i,N]=m.useState((r==null?void 0:r.id)??null),[u,h]=m.useState(((j=r==null?void 0:r.pivot)==null?void 0:j.map(({stage:s})=>s))??[]),[S,p]=m.useState(((b=o==null?void 0:o.stage)==null?void 0:b.id)??null),[g,d]=m.useState((o==null?void 0:o.subject)??[]),k=s=>{const n=parseInt(s.target.value);N(n),p(null),d([]);const l=c.find(a=>a.id===n);l?(h(l.pivot.map(a=>a.stage)),l.pivot.length>0?(p(l.pivot[0].stage.id),d(l.pivot[0].subject)):(h([]),d([]))):(h([]),d([]))},C=s=>{const n=parseInt(s.target.value);p(n);const l=c.find(a=>a.id===i);if(l){const a=l.pivot.find(I=>I.stage.id===n);d((a==null?void 0:a.subject)||[])}else d([])};return y?e.jsx(L,{type:"card"}):w?e.jsx(T,{}):e.jsx("div",{className:"bg-bg-purple py-6 sm:py-10",dir:"rtl",children:e.jsxs("div",{className:"container mx-auto p-6 max-w-[90%]",children:[e.jsx("p",{className:"text-sm  sm:text-base text-text text-center sm:hidden",children:t("curricula.select")}),e.jsxs("div",{className:"flex md:flex-row space-x-2 md:space-x-4 items-center mt-4 mb-8",children:[e.jsx("p",{className:"text-sm  sm:text-base text-text text-center max-[640px]:hidden",children:t("curricula.select")}),e.jsxs("div",{className:"relative flex-1 text-sm sm:text-base",children:[e.jsx("label",{htmlFor:"curriculum-select",className:"sr-only",children:t("curricula.curricula_select")}),e.jsxs("div",{className:"relative text-sm sm:text-base rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:i&&e.jsx("img",{src:(v=c.find(s=>s.id===i))!=null&&v.image?`https://backend.h-platform.online/${c.image}`:"",alt:"Curriculum Icon",className:"h-6 w-6 rounded-full object-cover",onError:s=>{s.currentTarget.src=_},loading:"lazy"})}),e.jsxs("select",{id:"curriculum-select",className:"block bg-white w-full pl-12 pr-10 py-3 text-right text-gray-700 rounded-md border border-gray-300 focus:outline-none focus:ring-primary focus:border-primary sm:text-base cursor-pointer appearance-none",value:i||"",onChange:k,children:[e.jsx("option",{value:"",disabled:!0,className:"text-sm sm:text-base w-full",children:t("curricula.curricula_select")}),c.map(s=>e.jsx("option",{value:s.id,className:"text-sm sm:text-base w-full",children:s.name},s.id))]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"relative flex-1 text-sm sm:text-base",children:[e.jsx("label",{htmlFor:"stage-select",className:"sr-only",children:t("curricula.curricula_select2")}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsxs("select",{id:"stage-select",className:"block bg-white w-full pl-3 pr-10 py-3 text-right text-gray-700 rounded-md border border-gray-300 focus:outline-none focus:ring-primary focus:border-primary sm:text-base cursor-pointer appearance-none",value:S||"",onChange:C,disabled:!i||u.length===0,children:[e.jsx("option",{value:"",disabled:!0,className:"text-sm sm:text-base w-full",children:u.length===0?t("error.Nostage"):t("error.selectStage")}),u.map(s=>e.jsx("option",{value:s.id,className:"text-sm sm:text-base w-full",children:s.name},s.id))]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})]}),g.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-8",children:g.map(s=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full object-cover  h-auto",onError:n=>{n.currentTarget.src="https://placehold.co/100x60/F0F4F8/000000?text=N/A"}}),e.jsxs("div",{className:"p-4 flex justify-between items-center",children:[e.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-gray-800 text-center",children:s.name}),e.jsx("button",{title:"curricula",className:"bg-primary hover:shadow-sm cursor-pointer text-white font-semibold text-sm  py-2 px-4 rounded-sm shadow-md transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50",children:t("curricula.button")})]})]},s.id))}):e.jsx("div",{className:"text-center text-sm sm:text-base text-gray-500 py-8",children:i===null?e.jsx("p",{children:t("curricula.empty")}):u.length===0?e.jsx("div",{children:e.jsx("p",{children:t("curricula.empty1")})}):e.jsx("p",{children:t("curricula.empty2")})})]})})};export{B as default};

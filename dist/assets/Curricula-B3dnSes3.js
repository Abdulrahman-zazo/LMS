import{u as E,o as F,r as u,c as L,j as e,S as _,H as T}from"./index-BIRCEoYC.js";const A="/assets/Earth%20Planet-C148qodb.png",D=()=>{var j,v,b;const{t}=E("translation"),{data:x,isLoading:w,isError:y}=F({}),d=(x==null?void 0:x.curriculums)??[],r=d[0],n=(j=r==null?void 0:r.pivot)==null?void 0:j[0],[o,N]=u.useState((r==null?void 0:r.id)??null),[m,p]=u.useState(((v=r==null?void 0:r.pivot)==null?void 0:v.map(({stage:s})=>s))??[]),[S,h]=u.useState(((b=n==null?void 0:n.stage)==null?void 0:b.id)??null),[f,i]=u.useState((n==null?void 0:n.subject)??[]),C=s=>{const c=parseInt(s.target.value);N(c),h(null),i([]);const l=d.find(a=>a.id===c);l?(p(l.pivot.map(a=>a.stage)),l.pivot.length>0?(h(l.pivot[0].stage.id),i(l.pivot[0].subject)):(p([]),i([]))):(p([]),i([]))},k=s=>{const c=parseInt(s.target.value);h(c);const l=d.find(a=>a.id===o);if(l){const a=l.pivot.find(I=>I.stage.id===c);i((a==null?void 0:a.subject)||[])}else i([])},g=L();return w?e.jsx(_,{type:"card"}):y?e.jsx(T,{}):e.jsx("div",{className:"bg-bg-purple py-6 sm:py-10",children:e.jsxs("div",{className:"container mx-auto p-6 max-w-[90%] lg:max-w-[1240px] ",children:[e.jsx("p",{className:"text-sm  sm:text-base text-text text-center sm:hidden",children:t("curricula.select")}),e.jsxs("div",{className:"flex md:flex-row space-x-2 md:space-x-4 items-center mt-4 mb-8",children:[e.jsx("p",{className:"text-sm  sm:text-base text-text text-center max-[640px]:hidden",children:t("curricula.select")}),e.jsxs("div",{className:"relative flex-1 text-xs sm:text-sm md:text-base",children:[e.jsx("label",{htmlFor:"curriculum-select",className:"sr-only",children:t("curricula.curricula_select")}),e.jsxs("div",{className:"relative text-sm sm:text-base rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:o&&e.jsx("img",{src:d.find(s=>s.id===o).image,alt:"Curriculum Icon",className:"h-8 w-8 rounded-full object-cover",onError:s=>{s.currentTarget.src=A}})}),e.jsxs("select",{id:"curriculum-select",className:"block bg-white w-full pl-12 pr-10 py-3  text-gray-700 rounded-md border border-gray-300 focus:outline-none focus:ring-primary focus:border-primary sm:text-base cursor-pointer appearance-none",value:o||"",onChange:C,children:[e.jsx("option",{value:"",disabled:!0,className:"text-xs sm:text-sm md:text-base w-full",children:t("curricula.curricula_select")}),d.map(s=>e.jsx("option",{value:s.id,className:"text-xs sm:text-sm md:text-base w-full",children:s.name},s.id))]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"relative flex-1 text-sm sm:text-base",children:[e.jsx("label",{htmlFor:"stage-select",className:"sr-only",children:t("curricula.curricula_select2")}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsxs("select",{id:"stage-select",className:"block bg-white w-full pl-3 pr-10 py-3  text-gray-700 rounded-md border border-gray-300 focus:outline-none focus:ring-primary focus:border-primary sm:text-base cursor-pointer appearance-none",value:S||"",onChange:k,disabled:!o||m.length===0,children:[e.jsx("option",{value:"",disabled:!0,className:"text-xs sm:text-sm md:text-base w-full",children:m.length===0?t("error.Nostage"):t("error.selectStage")}),m.map(s=>e.jsx("option",{value:s.id,className:"text-xs sm:text-sm md:text-base w-full",children:s.name},s.id))]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})]}),f.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3  gap-8",children:f.map(s=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full object-cover  h-[200px]",onError:c=>{c.currentTarget.src="https://placehold.co/100x60/F0F4F8/000000?text=N/A"}}),e.jsxs("div",{className:"p-4 flex justify-between items-center",children:[e.jsx("h3",{className:"text-xm sm:text-base md:text-lg font-semibold text-gray-800 text-center",children:s.name}),e.jsx("a",{href:`https://wa.me/${g==null?void 0:g.whatsapp_num}`,title:"curricula",className:"bg-primary hover:shadow-sm cursor-pointer text-white font-medium text-xs md:text-sm py-2 px-4 rounded-sm shadow-md transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50",children:t("curricula.button")})]})]},s.id))}):e.jsx("div",{className:"text-center text-sm sm:text-base text-gray-500 py-8",children:o===null?e.jsx("p",{children:t("curricula.empty")}):m.length===0?e.jsx("div",{children:e.jsx("p",{children:t("curricula.empty1")})}):e.jsx("p",{children:t("curricula.empty2")})})]})})};export{D as default};
